<details>
<summary>1장</summary>
<div markdown="1">

### 코드가 ‘지저분’ 하다

컴파일러는 코드가 돌아가기만 하면 되는데 프로그램의 구조를 미적인 기준으로만 판단하는 것이 아닐까?

코드를 수정하려면 사람이 개입되고, **사람은 코드의 미적 상태에 민감하다.**

설계가 나쁜 시스템은 수정하기 어렵다.

수정할 부분을 찾고 기존 코드와 함께 작동하게 할 난이도가 올라간다.

또한 수정 포인트를 찾기 어렵다면 사이드이펙이나 버그가 생길 가능성도 높아진다.

### 코드를 쉽게 파악할 수 있도록 하자.

**프로그램의 작동방식을 더 쉽게 파악할 수 있도록 코드를 여러 함수와 프로그램 요소로 재구성한다.**

프로그램의 구조가 빈약하다면 대체로 구조부터 바로잡은 뒤에 기능을 수정하는 편이 작업하기가 훨씬 수월하다.

프로그램이 새로운 기능을 추가하기에 편한 구조가 아니라면, 먼저 기능을 추가하기 쉬운 형태로 리팩터링 하고 나서 원하는 기능을 추가한다.

### 리팩터링의 첫 단계는 테스트코드

리팩터링에서 테스트의 역할은 굉장히 중요하다.

수정 과정에서 예상치 못한 문제가 발생할 가능성이 크다.

테스트는 내가 저지른 실수로부터 보호해주는 버그 검출기 역할을 해주기 때문이다.

**리팩터링 하기 전 제대로 된 테스트부터 마련한다. 테스트는 반드시 자가진단하도록 만든다.**

**함수 추출하기**

코드 조각을 함수로 추출하고 그 코드가 하는일을 설명하는 이름을 지어준다.

함수 반환값에는 항상 result라는 이름을 쓴다.

그러면 그 변수의 역할을 쉽게 알 수 있다.

**임시 변수를 질의 함수로 바꾸기**

임시 변수들 때문에 로컬 버무이에 존재하는 이름이 늘어나서 추출 작업이 복잡해질 수 있다.

```
const play = plays[aPerformance.playID];
------------------------------------------------------------
function playFor(aPerformance) {
 return plays[aPerformance.playID];
}
cont play = playFor(performance);
```

### 지역 변수

추출 리팩토링 전에는 지역 분수부터 제거하라

유효범위를 신경 써야 할 대상이 줄어들기 때문이다.

임시 변수는 자신이 속한 루틴에서만 의미가 있어서 루틴이 길고 복잡해지기 쉽다.

### 반복문 쪼개기

반복문을 쪼개서 성능이 느려지지 않을 까 걱정할 수 있다.

반복문이 중복되는 것을 꺼리는 이들이 많지만 성능에 미치는 영향이 미미할 때가 많다.

때로 성능에 상당한 영향을 주기도 하지만 잘 다듬어진 코드가 성능 개선 작업도 훨 씬 수월하다.

리팩터링 과정에서 성능이 크게 떨어졌다면 리팩터링 후 시간을 내어 성능을 개선하라 리팩터링 덕분에 성능 개선을 더 효고적으로 수행할 수 있다.

**‘특별한 경우가 아니라면 일단 무시하라’**

### 단계 쪼개기

한 메서드의 로직을 단계를 나누어서 치리한다.

e.g.) 1. 데이터 처리, 2. 데이터 표현

### 조건부 로직을 다형성으로 바꾸기

모든 데이터 변환을 한 곳에서 수행할 수 있어서 코드가 더욱 명확해진다.

**리팩터링 리듬.**

리팩터링은 대부분 코드가 하는일 을 파악하는데서 시작

코드를 읽고, 개선점을 찾고, 리팩터링 작업을 통해 개선점을 코드에 반영하는 식으로 진행

그 결과 코드가 명확해지고 이해하기 더 쉬워진다.

각 단계를 잘게 나누고 매번 컴파일하고 테스트하여 작동하는 상태로 유지한다.

**좋은 코드.**

좋은 코드란 코드를 ‘수정하기 쉬운 정도;

코드를 수정해야 할 상황이 되면 고쳐야 할 곳을 쉽게 찾을 수 있고

오류없이 빠르게 수정할 수 있어야 한다.

건강한 코드베이스는 생산성을 극대화하고 더 빠르고 저렴한 비용으로 제공할 수 있도록 해준다.

코드를 건강하게 관리하려면 팀의 현재와 이상의 차이에 항상 신경 쓰면서, 이상에 가까워지도록 리팩터링 해야 한다.

**효과적인 리팩터링**

단계를 잘게 나눠라, 코드는 절때 깨지지 않으며 작은 단계들이 모여서 상당히 큰 변화를 이룰수 있다.

### Review

리팩터링! 레거시 코드를 더 보기좋게 개선 하면 되는거 아니야?!

리팩터링을 진행하면서 올바르게 리팩터링이 되었는가? 다른 사이드 이펙은 없는지 어떻게 검증할 수 있는가?

무작정 코드부터 고치는것이라니라 올바르고 효과적으로 리팩터링을 진행할 수 있도록 가이드해준다는 느낌을 받았다.

어쩌면 이 내용들이 당연하다고 느낄수 도 있을 것 이라고 생각 할 수 있다.

하지만 실제로 적용하고 있는 사람들은 드물것이라고 생각한다.

1장에서 직접 리팩토링을 진행해보며 테스트 코드에 대한 중요성을 다시한번 깨달을 수 있었고

리팩토링을 진행하는 리듬, 작은 단계, 테스트를 상기시키게 되었다.

</div>
</details>